<app-icon></app-icon>

<!-- Menu utilisateur -->
<div class="flex items-center gap-3 relative 2xl:-mr-45">
  <!-- Initiales -->
    <!-- Icône admin -->
<div
class="border-4 border-[var(--Violet)] w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center text-[var(--Blanc)] text-sm sm:text-md 2xl:text-lg">
<i class="fas fa-crown text-lg sm:text-xl 2xl:text-2xl"></i>
</div>


  <!-- Mon Espace + Flèche (bureau uniquement) -->
  <div class="hidden md:flex items-center gap-1 cursor-pointer" role="button" tabindex="0" aria-haspopup="true"
    [attr.aria-expanded]="menuOuvert" (click)="toggleMenu()">
    <a routerLink="/monespaceA"
      class="text-[var(--Blanc)] font-black text-sm sm:text-lg xl:text-xl 2xl:text-2xl hover:text-[var(--Violet)]">
      Mon Espace
    </a>
    <svg class="w-4 h-4 sm:w-6 sm:h-6 transition-transform duration-300 text-[var(--Blanc)]" [class.rotate-180]="menuOuvert"
      fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
  </div>

  <!-- Hamburger menu (mobile uniquement) -->
  <button class="block md:hidden text-[var(--Blanc)] focus:outline-none" (click)="toggleMobileMenu()">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
  </button>
</div>

<!-- Menu déroulant bureau -->
<div *ngIf="menuOuvert && !mobileMenu"
     class="absolute right-4 mt-4 bg-[var(--Bleu-Foncé)] border-2 border-[var(--Violet)] text-[var(--Blanc)] rounded-xl shadow-md z-50 w-48 sm:w-56 md:block 2xl:-mr-50">
  <ul class="flex flex-col gap-1 py-2">
    <li class="px-4 py-2 hover:bg-[var(--Violet)] cursor-pointer rounded flex items-center gap-2">
      <i class="fa-solid fa-circle-info"></i>
      <a routerLink="/InfoA" class="block w-full text-sm sm:text-base">Informations</a>
    </li>
    <li class="px-4 py-2 hover:bg-[var(--Violet)] cursor-pointer rounded flex items-center gap-2">
      <i class="fa-solid fa-power-off"></i>
      <span (click)="deconnecter()" class="block w-full text-sm cursor-pointer">Déconnexion</span>
    </li>
  </ul>
</div>

<!-- Menu mobile -->
<div *ngIf="mobileMenu"
     class="absolute top-14 right-4 bg-[var(--Bleu-Foncé)] border-2 border-[var(--Violet)] text-[var(--Blanc)] rounded-xl shadow-md z-50 w-48">
  <ul class="flex flex-col gap-1 py-2">
    <li class="px-4 py-2 hover:bg-[var(--Violet)] cursor-pointer rounded">
      <a routerLink="/accueilA" class="block w-full text-sm">Accueil</a>
    </li>
    <li class="px-4 py-2 hover:bg-[var(--Violet)] cursor-pointer rounded">
      <a routerLink="/coursA" class="block w-full text-sm">Cours</a>
    </li>
    <li class="px-4 py-2 hover:bg-[var(--Violet)] cursor-pointer rounded">
      <a routerLink="/aproposA" class="block w-full text-sm">À propos</a>
    </li>
    <li class="px-4 py-2 hover:bg-[var(--Violet)] cursor-pointer rounded flex items-center gap-2">
      <i class="fa-solid fa-circle-info"></i>
      <a routerLink="/InfoA" class="block w-full text-sm">Informations</a>
    </li>
    <li class="px-4 py-2 hover:bg-[var(--Violet)] cursor-pointer rounded flex items-center gap-2">
      <i class="fa-solid fa-power-off"></i>
      <span (click)="deconnecter()" class="block w-full text-sm cursor-pointer">Déconnexion</span>
    </li>
  </ul>
</div>
