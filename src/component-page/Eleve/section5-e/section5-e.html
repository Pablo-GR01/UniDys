<app-icon></app-icon>

<div class="flex items-center text-white 2xl:mt-5 2xl:ml-5">
    <!-- Initiales -->
    <div
        class="2xl:w-16 2xl:h-16 lg:w-10 lg:h-10 xl:w-15 xl:h-15 xl:mt-5 xl:ml-5  flex items-center justify-center rounded-full bg-[#8002FF] font-black text-2xl">
        {{ userService.getInitiales() || 'IN' }}
    </div>

    <!-- Bonjour + nom -->
    <div class="2xl:text-2xl font-bold 2xl:ml-5 xl:text-xl xl:ml-5 xl:mt-5  ">
        Bonjour {{ userService.getNomComplet() || 'Invité' }}
    </div>

    <!-- BOUTON OUVRIR POP-UP -->
    <button (click)="ouvrirPopup()"
        class="bg-[#8002FF] text-white px-4 py-2 rounded hover:bg-[#3F0255] transition 2xl:ml-325 xl:ml-195 xl:mt-5 flex items-center gap-2">
        <i class="fas fa-plus"></i>
        Laisser un avis
    </button>

    <!-- POP-UP -->
    <!-- POP-UP -->
    <div *ngIf="popupOuvert" class="fixed top-0 left-0 w-full h-full bg-black/80 flex items-center justify-center z-50">
        <div class="bg-[#020118] rounded-xl p-6 w-full max-w-4xl shadow-xl text-white boder-2 border-[#8002FF] flex flex-col md:flex-row gap-8">

            <!-- ✅ Partie gauche : logo -->
            <div class="flex items-center justify-center md:w-1/2">
                <img src="/assets/LOGO.png" alt="Logo UniDys" class="w-68 h-auto" />
            </div>

            <!-- ✅ Partie droite : formulaire -->
            <div class="md:w-1/2">
                <h2 class="text-2xl font-bold mb-6 text-center md:text-left">Laisser un avis</h2>

                <!-- Prénom -->
                <input type="text" [(ngModel)]="prenom" placeholder="Prénom"
                    class="w-full border-2 border-[#8002FF] p-3 mb-4 rounded-lg bg-transparent text-white placeholder-gray-400" />

                <!-- Nom -->
                <input type="text" [(ngModel)]="nom" placeholder="Nom"
                    class="w-full border-2 border-[#8002FF] p-3 mb-4 rounded-lg bg-transparent text-white placeholder-gray-400" />

                <!-- Message -->
                <textarea [(ngModel)]="avisMessage" placeholder="Votre message" rows="4"
                    class="w-full border-2 border-[#8002FF] p-3 mb-4 rounded-lg bg-transparent text-white placeholder-gray-400 resize-none"></textarea>

                <!-- Boutons -->
                <div class="flex justify-end gap-3">
                    <button (click)="fermerPopup()"
                        class="px-4 py-2 rounded-lg border border-gray-500 hover:bg-[#3F0255] transition-all duration-200">
                        Annuler
                    </button>
                    <button (click)="validerAvis()"
                        class="bg-[#8002FF] px-4 py-2 rounded-lg hover:bg-[#3F0255] transition-all duration-200">
                        Valider
                    </button>
                </div>
            </div>

        </div>
    </div>

</div>